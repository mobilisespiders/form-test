<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap");

      .main-container {
        max-width: 100%;
      }

      .inputWrapper {
        padding-top: 10px;
      }

      .CountryCode {
        width: 20%;
        height: 40px;
        padding-left: 10px;
        background-color: #fff;
        border: 1px solid #eaecf1;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
        border-right: 1px solid #fff;
      }
      .phno {
        border-left: 1px solid #fff !important;
        border-top-right-radius: 10px !important;
        border-top-left-radius: 10px !important;
        border-bottom-left-radius: 10px !important;
        border-bottom-right-radius: 10px !important;
      }

      /* Error Message Style */
      .AlertPara {
        display: none;
        font-family: "Montserrat", sans-serif;
      }
      .alertPSelector {
        font-family: "Montserrat", sans-serif;
        font-size: 10px;
        padding-left: 13px;
        margin: 0;
        line-height: 2;
      }
      .nameErrordiv,
      .emailErrordiv,
      .phoneErrordiv {
        height: 15px;
      }
      /* xx Error Message Style  xx*/

      .bor {
        box-shadow: inset 2px 0 0 0 #e04562 !important;
      }

      .heading {
        text-align: center;
        font-size: 28px;
        font-family: "Montserrat", sans-serif;
        color: #001353;
        font-weight: 500;
      }

      .label {
        color: #001353;
        font-size: 18px;
      }

      .input {
        font-size: 12px !important;
        height: 40px;
        padding-left: 10px;
        width: 100%;
        background-color: #fff;
        border: 1px solid #dadbdd;
        border-radius: 10px;
        font-family: "Montserrat", sans-serif;
      }

      input:focus{
        border-color: #008029 !important;
        border-style: dotted;
        outline: none;
      }

      .fullNameInput,
      .emailInput,
      .cityInput {
        border-top-right-radius: 10px !important;
        border-top-left-radius: 10px !important;
        border-bottom-left-radius: 10px !important;
        border-bottom-right-radius: 10px !important;
      }

      .input.Textarea {
        height: 80px !important;
      }

      .btn-class {
        background-color: #008029 !important;
        border: 0px;
        padding: 10px 16px;
        border-radius: 10px !important;
        color: #fff !important;
        font-size: 15px;
        cursor: pointer;
        margin-top: 6px;
        width: 100%;
      }

      .tnc {
        font-family: "Montserrat", sans-serif;
        color: #ffffff;
      }

      select {
        margin-top: 0;
      }

      ::placeholder {
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div class="main-container" id="form-id">
      <form method="post" action="" name="contact-form">
        <!-- Name -->
        <div class="inputWrapper">
          <div style="display: flex; column-gap: 10px">
            <input
              type="text"
              name="Name"
              placeholder="Name"
              id="fullName-id"
              class="input fullNameInput"
            />
          </div>

          <!-- !Name Error  -->
          <div class="nameErrordiv">
            <p
              class="AlertPara alertPSelector"
              id="NameAlert-id"
              style="color: red"
            >
              This field is Required
            </p>
          </div>
        </div>

        <!-- Email -->
        <div class="inputWrapper">
          <input
            type="email"
            name="Email"
            placeholder="Email"
            id="email-id"
            class="input emailInput"
          />

          <div class="emailErrordiv">
            <p
              class="AlertPara alertPSelector"
              id="EmailAlert-id1"
              style="color: red"
            >
              Enter a Valid Email
            </p>
          </div>
        </div>

        <!-- Phone Number -->
        <div
          style="display: flex; column-gap: 10px"
          class="inputWrapper phoneWrapper"
        >
          

          <!-- <input type="tel" name="PhoneNo" placeholder="Phone Number" class="input phno" id="phoneNumberInput" > -->
          <input
            type="tel"
            name="PhoneNo"
            placeholder="Phone Number"
            class="input phno"
            id="phoneNumberInput"
            value="+91 "
            
            required
          />

          <!-- <input type="text" id="countryCodeInput" readonly> -->
        </div>

        <div class="phoneErrordiv">
          <p
            class="AlertPara alertPSelector"
            id="NumberAlert-id"
            style="color: red"
          >
            Please enter valid phone number
          </p>
        </div>



        <!-- Company -->
        <div class="inputWrapper">
          <input
            type="text"
            name="Company"
            placeholder="Company"
            id="company-id"
            class="input cityInput"
          />
        </div>
        <div class="phoneErrordiv">
          <p
            class="AlertPara alertPSelector"
            id="PCAlert-id"
            style="color: red"
          >
            This field is Required
          </p>
        </div>

         <!-- Email -->
        <div class="inputWrapper">
          <input
            type="email"
            name="Working Email"
            placeholder="Working email"
            id="email-id3"
            class="input emailInput"
          />

          <div class="emailErrordiv">
            <p
              class="AlertPara alertPSelector"
              id="EmailAlert-id2"
              style="color: red"
            >
              Enter a Valid Email
            </p>
          </div>
        </div>

        <input type="hidden" value="" name="Date" id="date-input" />
        <input type="hidden" value="" name="Time" id="time-input" />
        <input type="hidden" value="1" name="Id" id="" />
        <input type="hidden" value="AdmizzEdu-Home" name="Src" id="" />

        <!-- Terms & Condition -->
        <!-- <div class="inputWrapper">
          <label style="font-size: 13px">
            <input
              type="checkbox"
              style="vertical-align: middle"
              id="consent"
              name="consent"
              required
            />
            <span style="vertical-align: middle" class="tnc"
              >I have read and agreed to terms & conditions</span
            >
          </label>
        </div> -->
        <div style="padding-top: 10px">
          <input
            type="submit"
            class="btn-class"
            value="Register"
            id="submit"
          />
        </div>
      </form>
    </div>
    <script>
      
      // Original
      const nameA1 = document.getElementById("fullName-id");

      a1 = 0;

      const AlertMsg = document.getElementById("NameAlert-id");
      nameA1.addEventListener("keyup", function () {
        AlertMsg.classList.add("AlertPara");
        nameA1.classList.remove("bor");
      });


      //  Last Name validation

      // -------------------Email Validation------------------
      const emailInput2 = document.getElementById("email-id");
      const emailError2 = document.getElementById("EmailAlert-id1");
      var a2 = 0;
      emailInput2.addEventListener("keyup", function () {
        console.log(a2);
        if (!isValidEmail(emailInput2.value)) {
          // emailError2.textContent = "Invalid email address. Please enter a valid email.";
          emailError2.classList.remove("AlertPara");
          emailInput2.classList.add("bor");
          a2 = 0;
          console.log("True");
        } else {
          // emailError2.textContent = ""; // Clear the error message
          emailError2.classList.add("AlertPara");
          emailInput2.classList.remove("bor");
          a2 = 1;
          console.log("False");
        }
      });

      // -------------------Email Validation------------------
      const emailInput3 = document.getElementById("email-id3");
      const emailError3 = document.getElementById("EmailAlert-id2");
      var a5 = 0;
      emailInput3.addEventListener("keyup", function () {
        console.log(a2);
        if (!isValidEmail(emailInput3.value)) {
          // emailError2.textContent = "Invalid email address. Please enter a valid email.";
          emailError3.classList.remove("AlertPara");
          emailInput3.classList.add("bor");
          a5 = 0;
          console.log("True");
        } else {
          // emailError2.textContent = ""; // Clear the error message
          emailError3.classList.add("AlertPara");
          emailInput3.classList.remove("bor");
          a5 = 1;
          console.log("False");
        }
      });

      function isValidEmail(email) {
          // Regular expression for comprehensive email validation with any TLD
          const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return pattern.test(email);
        }

      //Number Valid
      const numberInput = document.getElementById("phoneNumberInput");
      const ErrorMsgnumber = document.getElementById("NumberAlert-id");
      var a3 = 0;
      numberInput.addEventListener("keyup", function () {
        var numberLengthMain = numberInput.value;
        console.log(numberLengthMain.length);
        if (numberLengthMain.length >= 13) {
          ErrorMsgnumber.classList.add("AlertPara");
          numberInput.classList.remove("bor");
          a3 = 1;
        } else {
          ErrorMsgnumber.classList.remove("AlertPara");
          numberInput.classList.add("bor");
          a3 = 0;
        }
      });

     

      //Company
      const company = document.getElementById("company-id");

      const errorCompany = document.getElementById("PCAlert-id");
      var a4 = 0;
      company.addEventListener("keyup", function () {
        let companyValue = company.value;
        if (companyValue.length >= 2) {
          errorCompany.classList.add("AlertPara");
          company.classList.remove("bor");
          a4 = 1;
        } else {
          errorCompany.classList.remove("AlertPara");
          company.classList.add("bor");
          a4 = 0;
        }
      });

      const scriptURL =
        "https://script.google.com/macros/s/AKfycbwM5MdP5yLsLE7T5DhRaWEd9ivMhGgLkxACRHg1mifRvuE2dcDv9m2qJHU2WNJ5Zw8D/exec";

      const scriptURL2 =
        "AKfycbyfalWwIheF4lhV6pTmqyXJY617LqtgyTjoqIXnapw5z9dOvUrXxCTZXYRgGcNwGJHk";

      const form = document.forms["contact-form"];
      const submitButton = document.getElementById("submit");

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        //preferedDestinationDropdown

        console.log("submitting color change");
        // Change the value of the submit button to "Submitting"
        // submitButton.style.backgroundColor = '#808080 !important';

        let dateForm = document.getElementById("date-input");
        let timeForm = document.getElementById("time-input");
        // Create a new Date object
        const currentDateTime = new Date();

        const currentDate = currentDateTime.toDateString();
        const currentTime = currentDateTime.toLocaleTimeString();

        console.log("Current Date: ", currentDate);
        console.log("Current Time: ", currentTime);
        dateForm.value = currentDate;
        timeForm.value = currentTime;
        let A1 = nameA1.value;

        if (
          A1.length >= 1 &&
          a3 === 1 &&
          a2 === 1 &&
          a4 === 1 &&
          a5 === 1
        ) {
          submitButton.value = "Submitting";

          submitButton.disabled = true;
          e.preventDefault();
          console.log("Simplifycodes");
          fetch(scriptURL, { method: "POST", body: new FormData(form) })
            // .then(response => alert("Thank you! your form is submitted successfully." ))
            .then(() => {
              window.location.href = "https://www.se.com/in/en/";
            })
            .catch((error) => console.error("Error!", error.message));

          
        } else {
          if (A1.length === 0) {
            AlertMsg.classList.remove("AlertPara");
            nameA1.classList.add("bor");
          }
         
          if (a2 === 0) {
            emailError2.classList.remove("AlertPara");
            emailInput2.classList.add("bor");
          }
          if (a3 === 0) {
            ErrorMsgnumber.classList.remove("AlertPara");
            numberInput.classList.add("bor");
          }
          if (a4 === 0) {
            errorCompany.classList.remove("AlertPara");
            company.classList.add("bor");
          }
          if (a5 === 0) {
            emailError3.classList.remove("AlertPara");
            emailInput3.classList.add("bor");
          }

        }
      });
    </script>
  </body>
</html>
